<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>ljepsen documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ljepsen</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/ljepsen.checker.html">ljepsen.checker</a></li>
  <li><a href="../modules/ljepsen.client.html">ljepsen.client</a></li>
  <li><a href="../modules/ljepsen.clock.html">ljepsen.clock</a></li>
  <li><a href="../modules/ljepsen.thread_coroutine.html">ljepsen.thread_coroutine</a></li>
  <li><a href="../modules/ljepsen.thread_fiber.html">ljepsen.thread_fiber</a></li>
  <li><a href="../modules/ljepsen.db.html">ljepsen.db</a></li>
  <li><a href="../modules/ljepsen.gen.html">ljepsen.gen</a></li>
  <li><strong>ljepsen.histogram</strong></li>
  <li><a href="../modules/ljepsen.history.html">ljepsen.history</a></li>
  <li><a href="../modules/ljepsen.html">ljepsen</a></li>
  <li><a href="../modules/ljepsen.log.html">ljepsen.log</a></li>
  <li><a href="../modules/ljepsen.nemesis.html">ljepsen.nemesis</a></li>
  <li><a href="../modules/ljepsen.op.html">ljepsen.op</a></li>
  <li><a href="../modules/ljepsen.runner.html">ljepsen.runner</a></li>
  <li><a href="../modules/ljepsen.thread.html">ljepsen.thread</a></li>
  <li><a href="../modules/ljepsen.utils.html">ljepsen.utils</a></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/README.md.html">README</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/sqlite-rw-register.lua.html">sqlite-rw-register.lua</a></li>
  <li><a href="../examples/sqlite-list-append.lua.html">sqlite-list-append.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>ljepsen.histogram</code></h1>
<p>Module with histogram implementation</p>
<p>


<p> A Histogram that supports recording and analyzing sampled data value counts
 across a configurable integer value range with configurable value precision
 within the range. Value precision is expressed as the number of significant
 digits in the value recording, and provides control over value quantization
 behavior across the value range and the subsequent value resolution at any
 given level.</p>

<ul>
    <li><code>jepsen.histogram_tarantool</code> - histogram, based on Tarantool's C implementation.</li>
    <li><code>jepsen.histogram</code> - histogram, implemented in pure Lua.</li>
</ul>
</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#new">new (buckets)</a></td>
	<td class="summary">Create a new histogram object given an array of bucket boundaries.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#histogram_delete">histogram_delete ()</a></td>
	<td class="summary">Destroy a histogram.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#histogram_reset">histogram_reset ()</a></td>
	<td class="summary">Reset a histogram.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#histogram_collect">histogram_collect (val)</a></td>
	<td class="summary">Update a histogram with a new observation.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#histogram_discard">histogram_discard (val)</a></td>
	<td class="summary">Remove a previously collected observation from a historam.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#histogram_percentile">histogram_percentile (pct)</a></td>
	<td class="summary">Calculate a percentile, i.e.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#histogram_percentile_lower">histogram_percentile_lower (pct)</a></td>
	<td class="summary">Same as <a href="../modules/ljepsen.histogram.html#histogram_percentile">histogram_percentile</a>, but return a lower bound estimate of the
  percentile.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#histogram_snprint">histogram_snprint (buf, size)</a></td>
	<td class="summary">Print string representation of a histogram.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "new"></a>
    <strong>new (buckets)</strong>
    </dt>
    <dd>
    Create a new histogram object given an array of bucket boundaries.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">buckets</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         defines a value the upper bound for each bucket.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        histogram
    </ol>




</dd>
    <dt>
    <a name = "histogram_delete"></a>
    <strong>histogram_delete ()</strong>
    </dt>
    <dd>
    Destroy a histogram.



    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "histogram_reset"></a>
    <strong>histogram_reset ()</strong>
    </dt>
    <dd>
    Reset a histogram.



    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "histogram_collect"></a>
    <strong>histogram_collect (val)</strong>
    </dt>
    <dd>
    Update a histogram with a new observation.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">val</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "histogram_discard"></a>
    <strong>histogram_discard (val)</strong>
    </dt>
    <dd>
    Remove a previously collected observation from a historam.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">val</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        nil
    </ol>




</dd>
    <dt>
    <a name = "histogram_percentile"></a>
    <strong>histogram_percentile (pct)</strong>
    </dt>
    <dd>
    Calculate a percentile, i.e.  the value below which a given
  percentage of observations fall.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pct</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        percentile number
    </ol>




</dd>
    <dt>
    <a name = "histogram_percentile_lower"></a>
    <strong>histogram_percentile_lower (pct)</strong>
    </dt>
    <dd>
    Same as <a href="../modules/ljepsen.histogram.html#histogram_percentile">histogram_percentile</a>, but return a lower bound estimate of the
  percentile.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pct</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        percentile number
    </ol>




</dd>
    <dt>
    <a name = "histogram_snprint"></a>
    <strong>histogram_snprint (buf, size)</strong>
    </dt>
    <dd>
    Print string representation of a histogram.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">buf</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">size</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        int
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2022-02-20 18:53:21 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
